<html>
	<head>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		<script>
				
		$(document).ready(function() {
			var connectionMode="Update";
			
			if(connectionMode=="Update"){
				var iConnectionId=5;
				$("input[name='connectionId']").val(iConnectionId);
				$("button[name='saveClientConnection']").attr("name","updateClientConnection");
				getConnectionById(iConnectionId);
			}
		});
		
		
		
		function getConnectionById(iConnectionId){
				alert(iConnectionId);
				$.ajax({
					type : "post",
					url : "databaseoperations.do",
					data : "type=getConnectionById&values="+ iConnectionId ,
					success : function(response) {
						alert(response);
						jsonObject= JSON.parse(response);
						if(jsonObject.result=="success"){
							connectionData=jsonObject.data;
							$("#connectionname").val(connectionData.connectionName);
							 $("#host").val(connectionData.hostname);
							 $("#port").val(connectionData.portNo);
							 $("#username").val(connectionData.username);
							 $("#Password").val(connectionData.password);
							 
						}
					},
					dataType : 'text'
					});
			};
		
				
				$(document).on("click","button[name='saveClientConnection']",function(){
					var clientConnectionInformation = new Object();
					clientConnectionInformation.connectionName = $("#connectionname").val();
					clientConnectionInformation.hostname  = $("#host").val();
					clientConnectionInformation.portNo = $("#port").val();
					clientConnectionInformation.username=$("#username").val();
					clientConnectionInformation.password=$("#Password").val();
					clientConnectionInformation.connectionType="client";
					var jsonclientConnectionInformation= JSON.stringify(clientConnectionInformation);
					
					$.ajax({
						type : "post",
						url : "databaseoperations.do",
						data : "type=insertConnection&values="+ jsonclientConnectionInformation ,
						success : function(response) {
							alert(response);
						},
						dataType : 'text'
						});
				});
				
				
				$(document).on("click","button[name='updateClientConnection']",function(){
					var clientConnectionInformation = new Object();
					clientConnectionInformation.id = $("input[name='connectionId']").val();
					clientConnectionInformation.connectionName = $("#connectionname").val();
					clientConnectionInformation.hostname  = $("#host").val();
					clientConnectionInformation.portNo = $("#port").val();
					clientConnectionInformation.username=$("#username").val();
					clientConnectionInformation.password=$("#Password").val();
					clientConnectionInformation.connectionType="client";
					var jsonclientConnectionInformation= JSON.stringify(clientConnectionInformation);
					
					$.ajax({
						type : "post",
						url : "databaseoperations.do",
						data : "type=updateConnection&values="+ jsonclientConnectionInformation ,
						success : function(response) {
							alert(response);
						},
						dataType : 'text'
						});
				});
			
				$(document).on("click","button[name='deleteclientConnection']",function(){
					var iConnectionId=$("input[name='connectionId']").val();
					$.ajax({
						type : "post",
						url : "databaseoperations.do",
						data : "type=deleteConnection&values="+ iConnectionId,
						success : function(response) {
							alert(response);
						},
						dataType : 'text'
						});
				});
			
			
				
				
				
				
		</script>
		
	</head>
	
	<body style="margin:10px;" >
	
			<div id="menu" style="width:300px;float:left;margin-right:50px">
			<h4>client Database</h4>
				<ul class="list-group">
				  <li class="list-group-item"><span data-toggle="collapse" data-target="#demo" class="glyphicon glyphicon-plus"></span><span class="glyphicon glyphicon-wrench"></span> gps 
				  <div id="demo" class="collapse" style="margin-top:10px;">
					<span class="glyphicon glyphicon-folder-open"></span>  Groups
					<ul class="list-group" style="margin-top:10px;">
				  <li class="list-group-item"><span class="glyphicon glyphicon-wrench"></span> Common</li>
				  <li class="list-group-item"><span class="glyphicon glyphicon-wrench"></span> Screen</li>
				  <li class="list-group-item"><span class="glyphicon glyphicon-plus-sign"></span> Add New Group</li>
			</ul>
				  </div>
				  </li>
				  <li class="list-group-item"><span class="glyphicon glyphicon-plus"></span> gps2</li>
				  <li class="list-group-item"><span class="glyphicon glyphicon-plus"></span> Third item</li>
			</ul>
			</div>
			
			<div id="overview" style="width:700px;float:left">
	<input type="hidden" name="connectionId" value=""/>		
			
			<div class="form-group">
				<label for="name">Client Name:</label>
				<input type="text" class="form-control" id="connectionname">
			</div>
			
			<div class="form-group">
				<label for="name">Host:</label>
				<input type="text" class="form-control" id="host">
				
			</div>
			
			<div class="form-group">
				<label for="name">Port:</label>
				<input type="text" class="form-control" id="port">
				
			</div>
			<div class="form-group">
				<label for="name">Username:</label>
				<input type="text" class="form-control" id="username">
				
			</div>
			
			<div class="form-group">
				<label for="name">Password:</label>
				<input type="text" class="form-control" id="Password">
				
			</div>
			
			<button type="button" name="saveClientConnection" class="btn btn-default"><span class="glyphicon glyphicon-floppy-disk"></span> Save</button>
				 <button type="button" name="deleteclientConnection" class="btn btn-primary"><span class="glyphicon glyphicon-trash"></span> Delete</button>
			
			</div>
	</body>

</html>